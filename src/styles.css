:root {
  --bg: #2b190f;
  --fg: #e7d6c9;
  --accent: #cdb2a9;
  --line: rgba(231,214,201,0.25);
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
html { scroll-behavior: smooth; }
body { margin: 0; font-family: 'Space Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; cursor: none; }
/* hide cursor on interactive elements too */
button, a, input, textarea, select { cursor: none; }

.app {
  background: var(--bg);
  color: var(--fg);
  height: 100%;
  display: grid;
  grid-template-rows: auto 1fr;
  overflow-x: hidden;
}

.top-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  letter-spacing: 1px;
  position: sticky; top: 0; z-index: 5; background: transparent;
  border: none;
}
.top-bar .menu {
  background: none; border: none; color: var(--fg); font: inherit; cursor: pointer;
}
.logo-name { margin-left: -4px; font-size: 12px; letter-spacing: 2px; opacity: 0.95; }
.logo-small { background: none; border: none; color: var(--fg); font: inherit; cursor: pointer; }
.top-actions { display: flex; align-items: center; gap: 16px; }
.top-actions .action { background: none; border: none; color: var(--fg); font: inherit; letter-spacing: 2px; cursor: pointer; text-decoration: none; }
.logo-small {
  display: flex;
  align-items: center;
  gap: 6px;
}
.menu { opacity: 0.9; }



/* Make navbar glassy when portfolio is open */
.portfolio-mode .top-bar {
  background: transparent;
  border: none;
  box-shadow: none;
  transition: none;
}
.portfolio-mode .top-actions { display: none; }
.portfolio-mode .logo-small { opacity: 1; }
.portfolio-mode .logo-name { display: none; }


.hero {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  padding: 16px 24px 0; /* remove bottom space */
  height: calc(100vh - 52px);
  /* cursor driven vars */
  --dx: 0;
  --dy: 0;
  --angle: 0deg;
}

.side {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.side.left { padding-right: 24px; }
.side.right { padding-left: 24px; align-items: flex-end; text-align: right; }

/* Place S above the middle divider and K below it */
.side.left .monogram { margin-bottom: auto; }
.side.right .monogram { margin-top: auto; }

.monogram {
  font-size: clamp(120px, 28vw, 320px);
  font-weight: 700;
  line-height: 0.8;
  color: var(--accent);
  cursor: default;
  position: relative;
}
/* disable old tooltip behavior */
.monogram::after { display: none; content: none; }

.tagline, .service {
  font-weight: 700;
  letter-spacing: 2px;
  margin-bottom: 24px;
}
/* right side service centered vertically */
.side.right .service {
  margin-top: auto;
  margin-bottom: auto;
  align-self: auto; /* keep right alignment inherited from .side.right */
  transform: translateY(-2px);
}
/* left tagline near divider middle */
.side.left .near-divider {
  margin-top: auto; /* push down toward center */
  margin-bottom: auto; /* keep around middle */
  align-self: flex-start;
  transform: translateY(-2px);
}

.center { position: relative; display: grid; place-items: center; }
/* divider as SVG wave */
.divider {
  position: absolute;
  left: 50vw; top: 50%; /* anchor to viewport center */
  width: 100vw; height: 32px; /* full-bleed line */
  transform-origin: 50% 50%;
  transform: translate(-50vw, -50%);
  z-index: 0;
  pointer-events: none;
}

/* Center image stack */
.image-stack {
  position: relative;
  width: min(28vw, 260px); /* smaller to match reference */
  aspect-ratio: 3 / 4;
  border-radius: 2px;
  overflow: hidden;
  filter: grayscale(100%);
  z-index: 1; /* above divider */
}
.image-stack .stack-img {
  position: absolute;
  inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  opacity: 0; 
  transform: translate(calc(var(--dx) * 6px), calc(var(--dy) * 6px));
  transition: opacity .5s ease, transform .6s ease;
}
.image-stack .stack-img.active {
  opacity: 1;
  transform: translate(calc(var(--dx) * 10px), calc(var(--dy) * 10px));
}
/* one image stays centered */
.image-stack .stack-img.fixed { z-index: 2; }
/* scatter state: show all images at random offsets */
.image-stack.scattering .stack-img { opacity: 0.75; }
.image-stack.scattering .stack-img.fixed { opacity: 1; }
.image-stack.scattering .stack-img:not(.fixed) {
  transform: translate(var(--x), var(--y)) scale(var(--s)) rotate(var(--r));
}
/* assembled state: back to single active image */
.image-stack.assembled .stack-img { opacity: 0; }
.image-stack.assembled .stack-img.active { opacity: 1; }

/* legacy brand mark styles kept in case reused elsewhere */
.image-card { position: relative; margin: 0; }
.image-card img {
  width: min(42vw, 380px);
  height: auto;
  display: block;
  border-radius: 2px;
  filter: grayscale(100%);
}
.brand-mark {
  position: absolute;
  right: 10px; bottom: 10px;
  background: rgba(0,0,0,0.35);
  color: #fff; font-size: 14px; padding: 2px 6px; border-radius: 4px;
}

/* Theme squares */
.theme-squares {
  position: absolute;
  left: 12px; bottom: 12px;
  background: transparent;
  border: 1px solid var(--line);
  color: var(--fg);
  padding: 8px;
  border-radius: 6px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}
.theme-squares .grid {
  display: grid;
  grid-template-columns: repeat(2, 10px);
  grid-template-rows: repeat(2, 10px);
  gap: 3px;
}
.theme-squares .cell {
  width: 10px; height: 10px; border: 1px solid var(--line);
  background: transparent;
}
.theme-squares .cell.active { background: var(--fg); }
.theme-squares .hint { font-size: 11px; opacity: 0; transition: opacity .15s; }
.theme-squares:hover .hint { opacity: 0.9; }

/* Responsiveness */
@media (max-width: 900px) {
  .hero { grid-template-columns: 1fr; row-gap: 24px; height: auto; }
  .side.right { align-items: flex-start; text-align: left; }
  .divider { position: relative; left: 0; right: 0; top: auto; width: 100%; margin: 16px 0; transform: none; height: 24px; }
  .center { order: -1; }
}

/* -------- Overlay Menu -------- */
.overlay {
  position: fixed; inset: 6px; background: #eee6db; color: #2b190f;
  border-radius: 8px; box-shadow: 0 0 0 2px #2b190f inset;
  z-index: 10; display: grid; grid-template-rows: auto 1fr;
}
.overlay-bar {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 16px; letter-spacing: 1px;
}
.overlay-logo { background: none; border: none; color: currentColor; font: inherit; cursor: pointer; }
.overlay-name { margin-left: 6px; font-weight: 700; }
.overlay-close { background: none; border: none; color: currentColor; font: inherit; cursor: pointer; }
.overlay-nav {
  display: grid; align-content: start; padding: 32px 24px;
  gap: 10px; font-weight: 800; color: #2b190f;
}
.overlay-nav a { text-decoration: none; color: inherit; font-size: clamp(48px, 12vw, 140px); line-height: 0.9; }
.overlay-nav a:hover { text-decoration: underline; }

/* ====== Scroll Sections ====== */
.section { padding: clamp(48px, 12vw, 120px) 24px; color: var(--fg); background: var(--bg); }
.section + .section { border-top: none; }
.section .section-inner { max-width: 1200px; margin: 0 auto; position: relative; }
.section-title { font-weight: 800; letter-spacing: 2px; font-size: clamp(18px, 3vw, 28px); }

/* About section */
.section--about .section-inner { display: grid; grid-template-columns: 1fr 1fr; align-items: center; gap: 24px; }
.section--about { --ax: 0; --ay: 0; }
.section--about .about-ring {
  width: clamp(140px, 24vw, 260px); aspect-ratio: 1/1; border: 1px solid var(--line); border-radius: 50%;
  justify-self: center; transition: transform .08s linear;
  transform: translate(calc(var(--ax) * 14px), calc(var(--ay) * 14px));
}
.section--about .about-text { font-size: 16px; line-height: 1.55; opacity: 0.92; }
.section--about .section-title { justify-self: start; align-self: center; }

/* Case study with background image */
.section--case { position: relative; padding-top: clamp(64px, 14vw, 140px); padding-bottom: clamp(64px, 14vw, 140px); }
.section--case .case-bg {
  position: absolute; inset: 0; background: url('https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
  filter: grayscale(100%); opacity: 0.38; z-index: 0;
}
.section--case .section-inner { z-index: 1; position: relative; }
.case-grid { display: grid; grid-template-columns: 1.1fr 1fr auto; gap: 24px; align-items: start; }
.eyebrow { font-size: 12px; letter-spacing: 2px; opacity: .9; margin-bottom: 8px; }
.case-title { font-size: clamp(20px, 4vw, 42px); letter-spacing: 2px; font-weight: 800; }
.services { list-style: none; padding: 0; margin: 0; display: grid; gap: 6px; font-size: 14px; }
.view-project { color: var(--fg); text-decoration: none; border: 1px solid var(--line); padding: 8px 12px; border-radius: 16px; align-self: start; display: inline-block; }
.view-project:hover { background: rgba(0,0,0,0.15); }

/* Past work teaser */
.work-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: center; }
.section--work .section-title { grid-column: 1 / 2; }
.section--work .work-note { grid-column: 2 / 3; font-size: 18px; line-height: 1.5; opacity: .95; }
.thumb { margin: 0; }
.thumb img { width: 140px; height: 100px; object-fit: cover; filter: grayscale(100%); }
.thumb.left { grid-column: 1 / 2; justify-self: start; }
.thumb.right { grid-column: 2 / 3; justify-self: end; }
.filmstrip { grid-column: 1 / -1; display: flex; justify-content: center; gap: 8px; margin-top: 28px; }
.filmstrip .frame { width: 56px; height: 32px; border: 1px solid var(--line); background: transparent; }

/* Contact CTA */
.contact-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: start; }
.contact-eyebrow { letter-spacing: 2px; opacity: .85; margin-bottom: 12px; }
.contact-title { font-size: clamp(28px, 8vw, 96px); line-height: .95; font-weight: 800; letter-spacing: 1px; }
.contact-copy { font-size: 16px; line-height: 1.6; }
.contact-email a { color: var(--fg); text-decoration: none; border-bottom: 1px solid var(--line); padding-bottom: 2px; }
.contact-email a:hover { text-decoration: underline; }

/* K name shown below on hover (App state toggles visibility) */
.k-wrap { position: relative; }
.k-name {
  position: absolute; left: 0; right: 0; bottom: -24px;
  font-size: 14px; letter-spacing: 2px; text-align: right;
}

/* Global cursor-follow ring */
.cursor-ring {
  position: fixed; left: 0; top: 0; width: 36px; height: 36px; border: 1px solid var(--fg);
  border-radius: 50%; pointer-events: none; z-index: 20; mix-blend-mode: normal; opacity: 0.9;
  transform: translate(-9999px, -9999px); transition: transform .03s linear;
}

@media (max-width: 900px) {
  .section--about .section-inner,
  .work-grid,
  .contact-grid,
  .case-grid { grid-template-columns: 1fr; }
  .thumb.right { justify-self: start; }
}

/* ========= Portfolio (light) ========= */
.portfolio {
  --pf-bg: #f2ead7;
  --pf-fg: #2b190f;
  --pf-muted: #6b5a4d;
  --pf-accent: #b24e1d;
  --pf-border: rgba(43,25,15,0.25);
  color: var(--pf-fg);
  background: var(--pf-bg);
}
.pf-container { max-width: 1100px; margin: 0 auto; padding: 32px 24px 64px; }

/* hero */
.pf-hero { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: start; margin-bottom: 48px; }
/* removed empty rule */
.pf-title { font-size: clamp(28px, 6vw, 56px); line-height: 1.05; margin: 0 0 8px; }
.pf-title .muted { color: var(--pf-muted); font-weight: 700; letter-spacing: 1px; font-size: 0.9em; }
.pf-title .accent { color: var(--pf-fg); font-weight: 800; }
.pf-sub { margin: 12px 0 16px; color: var(--pf-muted); }
.pf-actions { display: flex; align-items: center; gap: 12px; margin-top: 8px; }
.pf-actions .btn { display: inline-block; padding: 8px 12px; border: 1px solid var(--pf-fg); color: var(--pf-fg); text-decoration: none; border-radius: 6px; font-weight: 700; }
.pf-actions .btn:hover { background: var(--pf-fg); color: var(--pf-bg); }
.pf-actions .badge { font-size: 12px; color: var(--pf-muted); border: 1px dashed var(--pf-border); padding: 4px 8px; border-radius: 6px; }
.pf-photo { margin: 0; justify-self: end; }
.pf-photo img { width: min(40vw, 320px); height: auto; border-radius: 8px; display: block; filter: grayscale(10%); box-shadow: 0 8px 24px rgba(0,0,0,0.12); }

/* ---------- Portfolio animations ---------- */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(14px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes riseIn {
  from { opacity: 0; transform: translateY(18px) scale(.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes floatY {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}

/* hero intro + photo enter */
.pf-hero { animation: fadeInUp .6s ease both; }
.pf-intro { animation: fadeInUp .7s ease both .05s; }
.pf-photo img { animation: fadeIn .7s ease both .1s, floatY 10s ease-in-out infinite 1s; transition: transform .25s ease, box-shadow .25s ease; }
.pf-photo img:hover { transform: translateY(-4px) scale(1.02); box-shadow: 0 12px 28px rgba(0,0,0,0.16); }

/* sections gently fade in */
.pf-section { animation: fadeIn .6s ease both .05s; }
.pf-section:nth-of-type(2) { animation-delay: .08s; }
.pf-section:nth-of-type(3) { animation-delay: .12s; }
.pf-section:nth-of-type(4) { animation-delay: .16s; }

/* cards rise in + hover lift */
.card { animation: riseIn .5s ease both; transition: transform .2s ease, box-shadow .2s ease; }
.pf-projects .card:nth-child(1) { animation-delay: .05s; }
.pf-projects .card:nth-child(2) { animation-delay: .1s; }
.pf-projects .card:nth-child(3) { animation-delay: .15s; }
.card:hover { transform: translateY(-6px); box-shadow: 0 14px 28px rgba(0,0,0,0.14); }

/* buttons micro interaction */
.portfolio .btn { transition: transform .15s ease; }
.portfolio .btn:active { transform: translateY(1px) scale(0.99); }

/* quote */
.pf-quote { margin: 48px 0; }
.pf-quote blockquote { position: relative; border: 1px solid var(--pf-border); border-radius: 8px; padding: 24px; background: #f8f1e3; }
.pf-quote blockquote p { margin: 0 0 8px; }
.pf-quote blockquote footer { text-align: right; color: var(--pf-muted); }

/* projects */
.pf-section { margin: 56px 0; }
.pf-sec-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
.pf-sec-head h2 { margin: 0; font-size: 24px; }
.view-all { color: var(--pf-fg); text-decoration: none; border-bottom: 1px solid var(--pf-border); padding-bottom: 2px; }
.view-all:hover { border-color: var(--pf-fg); }
.pf-grid { display: grid; gap: 16px; }
.pf-projects { grid-template-columns: repeat(3, 1fr); }
.card { background: #fffaf0; border: 1px solid var(--pf-border); border-radius: 8px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.06); }
.card .thumb { background: #d9d1c1; height: 180px; }
.card-title { margin: 12px 12px 4px; font-size: 18px; }
.card-desc { margin: 0 12px 10px; color: var(--pf-muted); font-size: 14px; }
.card-tags { display: flex; gap: 8px; padding: 0 12px 14px; }
.card-tags span { font-size: 12px; border: 1px solid var(--pf-border); padding: 4px 6px; border-radius: 6px; }

/* skills */
.pf-skills { display: grid; grid-template-columns: repeat(3,1fr); gap: 24px; }
.skill-col h4 { margin: 0 0 8px; }
.skill-col ul { margin: 0; padding-left: 16px; color: var(--pf-muted); }

/* about & contacts */
.pf-about { max-width: 70ch; color: var(--pf-muted); }
.portfolio .btn { display: inline-block; padding: 8px 12px; border: 1px solid var(--pf-fg); color: var(--pf-fg); text-decoration: none; border-radius: 6px; font-weight: 700; }
.portfolio .btn:hover { background: var(--pf-fg); color: var(--pf-bg); }

@media (max-width: 900px) {
  .pf-hero { grid-template-columns: 1fr; }
  .pf-photo { justify-self: start; }
  .pf-projects { grid-template-columns: 1fr; }
  .pf-skills { grid-template-columns: 1fr; }
}
