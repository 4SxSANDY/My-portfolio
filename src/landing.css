/* Landing page specific styles */

/* Layout: hero and sides */
.hero {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  padding: 16px 24px 0;
  height: calc(100vh - 52px);
  --dx: 0;
  --dy: 0;
  --angle: 0deg;
  overflow: hidden;
}

.side {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.side.left { padding-right: 24px; }
.side.right { padding-left: 24px; align-items: flex-end; text-align: right; }

/* Place S above the middle divider and K below it */
.side.left .monogram {
   margin-bottom: auto; 
   transform: translateY(-8px);
   position: relative;
   top: 5%;
   }
.side.right .monogram { 
  margin-top: auto;
  position: relative;
  top: 5%;   
 }

.monogram {
  font-size: clamp(120px, 28vw, 320px);
  font-weight: 700;
  line-height: 0.8;
  color: var(--accent);
  cursor: default;
  position: relative;
}
/* ensure top-left S becomes brown while portfolio is open */
.portfolio-mode .logo-small { 
  color: #2b190f !important;
 }
/* disable old tooltip behavior */
.monogram::after { display: none; content: none; }

.tagline, .service {
  font-weight: 700;
  letter-spacing: 2px;
  margin-bottom: 24px;
}
/* right side service centered vertically */
.side.right .service {
  margin-top: auto;
  margin-bottom: auto;
  align-self: auto;
  transform: translateY(4px);
}
/* left tagline near divider middle */
.side.left .near-divider {
  margin-top: auto;
  margin-bottom: auto;
  align-self: flex-start;
  transform: translateY(-8px);
}
/* fix typo: ensure .tagline.near-divider supported */
.tagline.near-divider {
  font-size: clamp(16px, 4vw, 24px);
  position: relative;
  top: -12%;
}

.center { position: relative; display: grid; place-items: center; }
/* divider as SVG wave */
.divider {
  position: absolute;
  left: 50%; top: 55%;
  width: 100vw; height: 88px;
  transform-origin: 50% 50%;
  transform: translate(-50%, -50%);
  z-index: 0;
  pointer-events: none;
  overflow: visible;
}

.divider path {
  stroke: var(--line);
  stroke-width: 1.5;
  stroke-linecap: round;
  fill: none;
  shape-rendering: geometricPrecision;
  vector-effect: non-scaling-stroke;
}

@media (prefers-reduced-motion: reduce) {
  .divider path { d: path("M 0 10 L 100 10"); }
}

.service {
  font-size: clamp(16px, 4vw, 24px);
  position: relative;
  top: 15%;
}

/* Center image stack */
.image-stack {
  position: relative;
  width: min(28vw, 260px);
  aspect-ratio: 3 / 4;
  border-radius: 2px;
  overflow: hidden;
  filter: none;
  z-index: 1;
}
.image-stack .stack-img {
  position: absolute;
  inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  opacity: 0; 
  transform: translate(calc(var(--dx) * 6px), calc(var(--dy) * 6px));
  transition: opacity .5s ease, transform .6s ease;
}
.image-stack .stack-img.active {
  opacity: 1;
  transform: translate(calc(var(--dx) * 10px), calc(var(--dy) * 10px));
}
/* one image stays centered */
.image-stack .stack-img.fixed { z-index: 2; }
/* scatter state: show all images at random offsets */
.image-stack.scattering .stack-img { opacity: 0.75; }
.image-stack.scattering .stack-img.fixed { opacity: 1; }
.image-stack.scattering .stack-img:not(.fixed) {
  transform: translate(var(--x), var(--y)) scale(var(--s)) rotate(var(--r));
}
/* assembled state: back to single active image */
.image-stack.assembled .stack-img { opacity: 0; }
.image-stack.assembled .stack-img.active { opacity: 1; }

/* legacy brand mark styles kept in case reused elsewhere */
.image-card { position: relative; margin: 0; }
.image-card img {
  width: min(42vw, 380px);
  height: auto;
  display: block;
  border-radius: 2px;
  filter: grayscale(100%);
}
.brand-mark {
  position: absolute;
  right: 10px; bottom: 10px;
  background: rgba(0,0,0,0.35);
  color: #fff; font-size: 14px; padding: 2px 6px; border-radius: 4px;
}

/* Theme squares */
.theme-squares {
  position: fixed;
  left: 12px; bottom: 12px;
  background: transparent;
  border: 1px solid var(--line);
  color: var(--fg);
  padding: 8px;
  border-radius: 6px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  z-index: 12;
}
.theme-squares .grid {
  display: grid;
  grid-template-columns: repeat(2, 10px);
  grid-template-rows: repeat(2, 10px);
  gap: 3px;
}
.theme-squares .cell {
  width: 10px; height: 10px; border: 1px solid var(--line);
  background: transparent;
}
.theme-squares .cell.active { background: var(--fg); }
.theme-squares .hint { font-size: 11px; opacity: 0; transition: opacity .15s; }
.theme-squares:hover .hint { opacity: 0.9; }

/* -------- Overlay Menu -------- */
.overlay {
  position: fixed; inset: 6px; background: #eee6db; color: #2b190f;
  border-radius: 8px; box-shadow: 0 0 0 2px #2b190f inset;
  z-index: 10; display: grid; grid-template-rows: auto 1fr;
}
.overlay-bar {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 16px; letter-spacing: 1px;
}
.overlay-logo { background: none; border: none; color: currentColor; font: inherit; cursor: pointer; }
.overlay-name { margin-left: 6px; font-weight: 700; }
.overlay-close { background: none; border: none; color: currentColor; font: inherit; cursor: pointer; }
.overlay-nav {
  display: grid; align-content: start; padding: 32px 24px;
  gap: 10px; font-weight: 800; color: #2b190f;
}
.overlay-nav a { text-decoration: none; color: inherit; font-size: clamp(48px, 12vw, 140px); line-height: 0.9; }
.overlay-nav a:hover { text-decoration: underline; }

/* ====== Scroll Sections ====== */
.section { padding: clamp(48px, 12vw, 120px) 24px; color: var(--fg); background: var(--bg); }
.section + .section { border-top: none; }
.section .section-inner { max-width: 1200px; margin: 0 auto; position: relative; }
.section-title { font-weight: 800; letter-spacing: 2px; font-size: clamp(18px, 3vw, 28px); }

/* About section */
.section--about .section-inner { display: grid; grid-template-columns: 1fr 1fr; align-items: center; gap: 24px; }
.section--about { --ax: 0; --ay: 0; }
.section--about .about-ring {
  width: clamp(140px, 24vw, 260px); aspect-ratio: 1/1; border: 1px solid var(--line); border-radius: 50%;
  justify-self: center; transition: transform .08s linear;
  transform: translate(calc(var(--ax) * 14px), calc(var(--ay) * 14px));
}
.section--about .about-text { 
  font-size: 16px; 
  position: relative;
  left: 100%;
  line-height: 1.55; 
  opacity: 0.92; }
.section--about .section-title { justify-self: start; align-self: center; }

/* Drawing image and portfolio button in about section */
.drawing-image {
  margin: 32px 0 24px;
  text-align: center;
  position: relative;
  bottom: 20%;
}
.drawing-image img {
  width: 70%;
  height: 100%;
  position: relative;
  right: 120%;
  border-radius: 8px;
 
}
.portfolio-btn {
  background: transparent;
  border: 1px solid var(--fg);
  color: var(--fg);
  padding: 12px 24px;
  font: inherit;
  letter-spacing: 2px;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s ease;
  display: block;
  margin: 0 auto;
  position: relative;
  right: 20%;
  top: -250%;
}
.portfolio-btn:hover {
  background: var(--fg);
  color: var(--bg);
}

/* Case study with background image */
.section--case { position: relative; padding-top: clamp(64px, 14vw, 140px); padding-bottom: clamp(64px, 14vw, 140px); }
.section--case .case-bg {
  position: absolute; inset: 0; background: url('https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
  filter: grayscale(100%); opacity: 0.38; z-index: 0;
}
.section--case .section-inner { z-index: 1; position: relative; }
.case-grid { display: grid; grid-template-columns: 1.1fr 1fr auto; gap: 24px; align-items: start; }
.eyebrow { font-size: 12px; letter-spacing: 2px; opacity: .9; margin-bottom: 8px; }
.case-title { font-size: clamp(20px, 4vw, 42px); letter-spacing: 2px; font-weight: 800; }
.services { list-style: none; padding: 0; margin: 0; display: grid; gap: 6px; font-size: 14px; }
.view-project { color: var(--fg); text-decoration: none; border: 1px solid var(--line); padding: 8px 12px; border-radius: 16px; align-self: start; display: inline-block; }
.view-project:hover { background: rgba(0,0,0,0.15); }

/* Past work teaser */
.work-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: center; }
.section--work .section-title { grid-column: 1 / 2; }
.section--work .work-note { grid-column: 2 / 3; font-size: 18px; line-height: 1.5; opacity: .95; }
.thumb { margin: 0; }
.thumb img { width: 140px; height: 100px; object-fit: cover; filter: grayscale(100%); }
.thumb.left { grid-column: 1 / 2; justify-self: start; }
.thumb.right { grid-column: 2 / 3; justify-self: end; }
.filmstrip { grid-column: 1 / -1; display: flex; justify-content: center; gap: 8px; margin-top: 28px; }
.filmstrip .frame { width: 56px; height: 32px; border: 1px solid var(--line); background: transparent; }

/* Contact CTA */
.contact-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: start; }
.contact-eyebrow { 
  letter-spacing: 2px; 
  opacity: .85; 
  margin-bottom: 12px;
  position: relative;
  top: -40%; 
}
.contact-title {
  font-size: 50px;
  font-weight: 800;
  line-height: 1;
  position: relative;
  right: 58%;
  top: -15%;
}
.contact-title .line { display: block; white-space: nowrap; }
.contact-copy { 
  font-size: 16px; 
  line-height: 1.6;
  position: relative;
  left: 135%; 
  top: 150%;
}
.contact-copy .line { display: block; white-space: nowrap; }
.contact-email a { color: var(--fg); text-decoration: none; border-bottom: 1px solid var(--line); padding-bottom: 2px; }
.contact-email a:hover { text-decoration: underline; }

/* K name shown below on hover */
.k-wrap { position: relative; }
.k-name {
  position: absolute; left: 0; right: 0; bottom: -24px;
  font-size: 14px; letter-spacing: 2px; text-align: right;
}

/* Footer */
.site-footer { background: var(--bg); color: var(--fg); padding: 24px; }
.footer-inner { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 24px; align-items: end; }
.footer-left { display: grid; gap: 10px; align-content: end; }
.footer-links { display: flex; gap: 18px; font-size: 12px; letter-spacing: 2px; }
.footer-links a { color: var(--fg); text-decoration: none; opacity: .9; }
.footer-links a:hover { text-decoration: underline; }
.copyright { font-size: 12px; opacity: .9; }
.mini-dots { display: flex; gap: 6px; }
.mini-dots span { width: 10px; height: 10px; border: 1px solid var(--line); display: inline-block; }
.footer-right { display: grid; gap: 14px; justify-items: stretch; }
.footer-cta { position: relative; display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center; text-decoration: none; color: var(--fg); padding: 10px 0; border-top: 1px solid var(--line); font-weight: 700; letter-spacing: 1px; }
.footer-cta .label { font-size: 14px; }
.footer-cta .external-icon { width: 14px; height: 14px; border: 1px solid var(--line); display: inline-block; }
.footer-cta:hover .label { text-decoration: underline; }

/* Responsive adjustments */
@media (max-width: 900px) {
  .hero { grid-template-columns: 1fr; row-gap: 24px; height: auto; }
  .side.right { align-items: flex-start; text-align: left; }
  .divider { position: relative; left: 0; right: 0; top: auto; width: 100%; margin: 16px 0; transform: none; height: 24px; }
  .center { order: -1; }

  .section--about .section-inner,
  .work-grid,
  .contact-grid,
  .case-grid { grid-template-columns: 1fr; }
  .thumb.right { justify-self: start; }
  .footer-inner { grid-template-columns: 1fr; gap: 18px; }
  .footer-right { order: -1; }
}

/* ===== Scroll-controlled 3x3 gallery ===== */
.section--gallery { background: var(--bg); color: var(--fg); padding-top: 24px; padding-bottom: 80px; }
.scroll-gallery { width: min(640px, 80vw); margin: 0 auto; border: 1px solid var(--line); border-radius: 8px; background: transparent; }
.sg-viewport { overflow: hidden; height: clamp(220px, 34vw, 300px); }
.sg-track { transition: transform .35s ease; }
.sg-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; padding: 8px; }
.sg-thumb { width: 100%; height: clamp(160px, 16vw, 200px); object-fit: cover; filter: grayscale(100%); border-radius: 6px; display: block; }
